(function(){
function random_numbers(max, len) {
	var arr = [];
	for (var i = 0; i < len; i++)
		arr.push(Math.floor(Math.random() * max))
	return arr;
}
var MaxDayInThisMonth = (function(){
	var date = new Date();
	var nextMonthFirstDay=new Date(date.getFullYear(),date.getMonth() + 1,1);
	date = new Date(nextMonthFirstDay.getTime()-1000);
	return date.getDate();
})();
var MaxPoint = 600, MinIntV = 24*3600 / MaxPoint;
var Intv = {
	"month" : MaxDayInThisMonth*MinIntV,
	"week" : 7*MinIntV,
	"24h" : MinIntV
};

var UTCZoneTicks = 8 * 3600000 ;
function getDataLen(maxPoints, type){
	var date = new Date();
	var ticks = date.getTime();
	var dayTicks = ticks % (24 * 3600000) + UTCZoneTicks ;
	if (type == "week")
		dayTicks = date.getDay() * 24 * 3600000 + dayTicks;
	else if (type == "month")
		dayTicks = (date.getDate()-1) * 24 * 3600000 + dayTicks;
	
	return Math.ceil(dayTicks / (Intv[type]*1000)); 
}

IX.ns("Test");
Test.areacharts =function(params){
	var from = params.from *1000;
	var to = params.to *1000;

	//var len = getDataLen(MaxPoint, params.xType);
	var len = Math.ceil((to - from) / (Intv[params.xType]*1000));

	return IX.inherit(params, params.srcType=="resource" ? {
		cpu : random_numbers(100, len),
		mem : random_numbers(100, len)
	} : {
		flowR:[
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            5896,
            4744,
            5616,
            5600,
            4640,
            5432,
            5488,
            5336,
            5032,
            5760,
            5096,
            4896,
            5120,
            5040,
            5568,
            4888,
            5704,
            5120,
            5728,
            5120,
            5496,
            4688,
            4560,
            4952,
            4560,
            4560,
            5296,
            5824,
            4648,
            5648,
            4528,
            4872,
            5096,
            4696,
            4720,
            5880,
            5504,
            5088,
            5536,
            5408,
            5032,
            5440,
            5752,
            4504,
            5328,
            4960,
            4464,
            5256,
            5512,
            4696,
            5088,
            5160,
            5080,
            4888,
            4984,
            4888,
            5688,
            5168,
            4504,
            5224,
            5344,
            4576,
            5800,
            4880,
            4720,
            4944,
            4664,
            4824,
            4832,
            5496,
            4976,
            5616,
            4456,
            4744,
            4648,
            5320,
            4312,
            5416,
            4952,
            4672,
            5960,
            5376,
            4616,
            5184,
            4856,
            5088,
            5240,
            4984,
            4904,
            5344,
            5120,
            5248,
            5336,
            4912,
            4848,
            5232,
            4632,
            4816,
            5912,
            5144,
            4904,
            4920,
            5680,
            4656,
            5528,
            5320,
            4832,
            4640,
            4800,
            5024,
            4792,
            5488,
            4904,
            5072,
            4976,
            5776,
            5064,
            5624,
            5112,
            5256,
            5544,
            5232,
            6992,
            5992,
            5128,
            4864,
            5160,
            5744,
            5368,
            5152,
            4880,
            4848,
            5176,
            4856,
            5272,
            23496,
            37504,
            19960,
            10304,
            4320,
            19944,
            23728,
            14072,
            15200,
            30864,
            30480,
            14856,
            14064,
            14240,
            21512,
            21272,
            15728,
            20456,
            37264,
            32448,
            34616,
            33360,
            30728,
            31728,
            29992,
            35176,
            31416,
            50576,
            33224,
            37176,
            32696,
            43488,
            28824,
            38496,
            27512,
            35968,
            888512,
            31856,
            33536,
            26248,
            25944,
            23136,
            28000,
            32752,
            39816,
            37640,
            28016,
            43368,
            39144,
            24840,
            24592,
            42504,
            31808,
            51528,
            29528,
            577808,
            30648,
            34576,
            28128,
            30896,
            26592,
            25440,
            34240,
            38384,
            32448,
            32704,
            24064,
            25384,
            24944,
            34488,
            36568,
            37808,
            30192,
            33760,
            31880,
            30520,
            32232,
            34592,
            32600,
            28064,
            36968,
            32472,
            33296,
            28080,
            32832,
            26264,
            31072,
            25768,
            29008,
            34080,
            31192,
            34016,
            31296,
            32320,
            35216,
            30584,
            30920,
            30456,
            34360,
            32520,
            31208,
            37256,
            36640,
            28856,
            30128,
            30728,
            28528,
            31424,
            28160,
            27864,
            30488,
            28056,
            26072,
            26728,
            25800,
            27992,
            29256,
            32184,
            33288,
            29656,
            30040,
            35496,
            34312,
            29344,
            33432,
            33312,
            35072,
            32848,
            32712,
            28912,
            34808,
            31904,
            32920,
            28288,
            33368,
            31528,
            34176,
            31880,
            34536,
            75536,
            80760,
            82328,
            78280,
            28256,
            31864,
            39688,
            48288,
            45280,
            42832,
            39688,
            49496,
            44896,
            45104,
            49432,
            44024,
            44096,
            35568,
            80720,
            71352,
            30896,
            65832,
            72448,
            77056,
            59544,
            31136,
            61480,
            61520,
            56384,
            67472,
            88776,
            81968,
            95976,
            70328,
            65240,
            46456,
            39248,
            42456,
            39432,
            44560,
            36864,
            39056,
            34888,
            32208,
            32872,
            103704,
            146744,
            35296,
            29160,
            37592,
            29424,
            28616,
            26664,
            30064,
            30528,
            25456,
            29576,
            26304,
            135968,
            35120,
            136488,
            143120,
            141424,
            70248,
            79384,
            66224,
            43968,
            69824,
            41096,
            69024,
            77824,
            72000,
            74200,
            76256,
            77992,
            70424,
            77904,
            78264,
            38488,
            79096,
            48816,
            49776,
            36568,
            34888,
            36344,
            31712,
            28992,
            33824,
            33048,
            33736,
            29560,
            30488,
            16184,
            15840,
            15720,
            17808,
            17080,
            19768,
            15576,
            13312,
            13872,
            13312,
            15520,
            11040,
            13936,
            16408,
            14784,
            13720,
            12496,
            14104,
            12336,
            14208,
            13712,
            13688,
            14208,
            12216,
            9968,
            10016,
            10040,
            8840,
            19832,
            10864,
            13552,
            11088,
            9384,
            10368,
            12104,
            12208,
            9792,
            10848,
            12120,
            13064,
            11248,
            11680,
            13520,
            12080,
            11552,
            30792,
            12816,
            14408,
            10880,
            11160,
            11056,
            8480
        ]/* random_numbers(10000000, len)*/,
		flowT: [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            280,
            256,
            216,
            280,
            256,
            216,
            272,
            96,
            216,
            248,
            128,
            184,
            272,
            128,
            224,
            280,
            128,
            232,
            280,
            128,
            200,
            248,
            160,
            232,
            240,
            168,
            224,
            208,
            200,
            216,
            200,
            248,
            264,
            216,
            248,
            96,
            200,
            248,
            120,
            208,
            248,
            96,
            216,
            256,
            104,
            216,
            248,
            104,
            216,
            232,
            128,
            216,
            280,
            112,
            232,
            272,
            128,
            232,
            256,
            152,
            192,
            240,
            152,
            232,
            240,
            184,
            176,
            208,
            232,
            136,
            232,
            264,
            72,
            208,
            256,
            112,
            200,
            248,
            96,
            200,
            272,
            96,
            200,
            272,
            96,
            200,
            272,
            96,
            200,
            248,
            128,
            216,
            280,
            136,
            232,
            264,
            128,
            224,
            264,
            152,
            224,
            264,
            152,
            184,
            224,
            192,
            168,
            232,
            264,
            112,
            240,
            280,
            72,
            208,
            264,
            88,
            200,
            272,
            96,
            200,
            280,
            88,
            200,
            272,
            88,
            272,
            272,
            96,
            272,
            256,
            128,
            240,
            272,
            112,
            248,
            264,
            120,
            240,
            264,
            224,
            216,
            256,
            256,
            184,
            216,
            248,
            184,
            240,
            704,
            112,
            248,
            240,
            512,
            6968,
            6648,
            6512,
            7368,
            6784,
            6528,
            7240,
            7280,
            6496,
            7280,
            7256,
            6600,
            7272,
            7104,
            6600,
            7304,
            22056,
            7304,
            31456,
            30272,
            7168,
            6360,
            8104,
            6448,
            6848,
            6376,
            8488,
            185656,
            26496,
            25192,
            45224,
            30968,
            23272,
            50736,
            32272,
            372952,
            63112,
            72144,
            59016,
            66848,
            71848,
            65032,
            64784,
            57904,
            70752,
            60624,
            29248,
            30392,
            25504,
            27592,
            27080,
            29448,
            63016,
            65552,
            55752,
            58616,
            60216,
            61296,
            40840,
            41728,
            34576,
            25504,
            40296,
            40088,
            40704,
            63272,
            58328,
            55400,
            58760,
            25472,
            45032,
            574104,
            221800,
            211720,
            60952,
            48280,
            62632,
            46072,
            27824,
            29344,
            28000,
            59568,
            248784,
            271048,
            85144,
            53184,
            553128,
            579040,
            536168,
            87328,
            60680,
            59944,
            275472,
            268608,
            246976,
            268648,
            247488,
            264496,
            206256,
            212824,
            211688,
            211816,
            195656,
            211744,
            211832,
            195544,
            211704,
            211816,
            212024,
            195624,
            211896,
            195624,
            212984,
            211920,
            212936,
            195768,
            212752,
            195536,
            212992,
            373704,
            211976,
            195728,
            212776,
            211920,
            211960,
            195600,
            212016,
            212040,
            212920,
            212000,
            212112,
            195608,
            212032,
            212248,
            211968,
            212992,
            212032,
            230776,
            214192,
            232984,
            233472,
            233608,
            215320,
            232272,
            213592,
            231560,
            215104,
            231440,
            213912,
            238184,
            232632,
            232016,
            214624,
            233104,
            248392,
            231208,
            249176,
            268864,
            265856,
            245648,
            267608,
            245424,
            267544,
            244552,
            269440,
            245624,
            4164088,
            6938344,
            247872,
            227168,
            431640,
            196632,
            212264,
            212224,
            212232,
            213184,
            195960,
            212408,
            212280,
            6386424,
            196024,
            6359776,
            6890168,
            6544472,
            2289944,
            2477280,
            2287752,
            778488,
            1924928,
            244920,
            2175688,
            2486888,
            2636032,
            2477056,
            2667000,
            2477272,
            2288120,
            2477720,
            2667192,
            212120,
            2490432,
            778808,
            590496,
            536872,
            570688,
            526624,
            570632,
            527032,
            796648,
            735376,
            795920,
            557024,
            605592,
            596536,
            550600,
            599120,
            596488,
            598816,
            549760,
            599184,
            550640,
            596408,
            550600,
            596512,
            209520,
            224240,
            227184,
            224248,
            209480,
            224400,
            227000,
            224312,
            224440,
            224256,
            227088,
            207184,
            224272,
            195232,
            191528,
            176664,
            191392,
            891864,
            189784,
            349720,
            189840,
            175216,
            189904,
            189768,
            189824,
            175304,
            189704,
            189856,
            189824,
            189768,
            190104,
            189960,
            175376,
            190088,
            1320832,
            189976,
            349928,
            189968,
            175400,
            190064,
            4648
        ]/*random_numbers(10000000, len)*/
	}, {
		intv : Intv[params.xType]
	});
};

Test.piecharts =function(params){
	var unused = Math.floor(Math.random() * 100);
	//var files = Math.floor(Math.random() * (100-unused));
	var mirrors = Math.floor(Math.random() * (100-unused));
	var vhosts = 100- unused- mirrors;

	return {
            total : 500,
		unused : unused,
		//files : files,
		mirrors: mirrors,
		vhosts : vhosts
           /* unused : 0,
            //files : files,
            mirrors: 0,
            vhosts : 0*/
	};
};
})();